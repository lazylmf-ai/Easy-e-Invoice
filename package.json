{
  "name": "easy-e-invoice",
  "version": "1.0.0",
  "description": "Malaysian e-Invoice compliance helper for micro-SMEs",
  "private": true,
  "workspaces": [
    "apps/*",
    "packages/*"
  ],
  "scripts": {
    "dev": "turbo run dev",
    "build": "turbo run build",
    "build:web": "turbo run build --filter=web",
    "build:api": "turbo run build --filter=api",
    "test": "turbo run test",
    "test:unit": "vitest packages/validation/src --coverage",
    "test:unit:coverage-report": "vitest packages/validation/src --coverage --reporter=html",
    "test:integration": "vitest apps/api/tests --run",
    "test:e2e": "playwright test",
    "test:performance": "cd tests/performance && npm run test",
    "test:load": "cd tests/performance && npm run test:load",
    "test:security": "vitest tests/security --run",
    "test:smoke": "vitest tests/smoke --run",
    "test:smoke:production": "vitest tests/smoke --run --env=production",
    "test:compliance": "vitest tests/compliance --run",
    "test:compliance:quick": "vitest tests/compliance --run --reporter=basic",
    "test:compliance:post-rollback": "vitest tests/compliance --run --env=production",
    "test:all": "npm run test:unit && npm run test:integration && npm run test:e2e && npm run test:performance && npm run test:security && npm run test:compliance",
    "lint": "turbo run lint",
    "lint:fix": "turbo run lint -- --fix",
    "format": "prettier --write .",
    "format:check": "prettier --check .",
    "typecheck": "turbo run typecheck",
    "clean": "turbo run clean",
    "analyze:bundle": "turbo run analyze:bundle",
    "analyze:deps": "turbo run analyze:deps",
    "lighthouse": "lighthouse-ci",
    "db:generate": "cd packages/database && drizzle-kit generate",
    "db:push": "cd packages/database && drizzle-kit push",
    "db:migrate": "cd packages/database && drizzle-kit migrate",
    "db:migrate:production": "cd packages/database && drizzle-kit migrate --env=production",
    "db:migration:verify": "node scripts/verify-db-migration.js",
    "db:studio": "cd packages/database && drizzle-kit studio",
    "db:backup:production": "node scripts/backup-database.js --env=production",
    "db:backup:emergency": "node scripts/backup-database.js --emergency",
    "db:backup:verify": "node scripts/verify-backup.js",
    "db:check-rollback-safety": "node scripts/check-rollback-safety.js",
    "db:rollback": "node scripts/rollback-database.js",
    "db:test-connection": "node scripts/test-db-connection.js",
    "db:seed:staging": "node scripts/seed-database.js --env=staging",
    "api:dev": "cd apps/api && wrangler dev",
    "api:deploy": "cd apps/api && wrangler deploy",
    "api:deploy:prod": "cd apps/api && wrangler deploy --env production",
    "web:dev": "cd apps/web && npm run dev",
    "web:build": "cd apps/web && npm run build",
    "start": "turbo run start",
    "prepare": "husky install",
    "deploy:verify": "node scripts/verify-deployment-ready.js",
    "deploy": "./deploy.sh",
    "deploy:api": "./deploy.sh api",
    "deploy:web": "./deploy.sh frontend",
    "deploy:db": "./deploy.sh database",
    "health-check:staging": "node scripts/health-check.js --env=staging",
    "health-check:production": "node scripts/health-check.js --env=production",
    "health-check:production-green": "node scripts/health-check.js --env=production-green",
    "smoke-test:staging": "vitest tests/smoke --run --env=staging",
    "smoke-test:production-green": "vitest tests/smoke --run --env=production-green",
    "load-test:production-green": "cd tests/performance && npm run test:load -- --env=production-green",
    "verify:malaysian-compliance": "node scripts/verify-malaysian-compliance.js",
    "test:tin-validation": "vitest tests/compliance/tin-validation.test.ts --run",
    "test:sst-calculation": "vitest tests/compliance/sst-calculation.test.ts --run", 
    "verify:lhdn-compliance": "node scripts/verify-lhdn-compliance.js",
    "verify:pdpa-compliance": "node scripts/verify-pdpa-compliance.js",
    "verify:myinvois-format": "node scripts/verify-myinvois-format.js",
    "scan:pdpa-compliance": "node scripts/scan-pdpa-compliance.js",
    "validate:data-residency": "node scripts/validate-data-residency.js",
    "test:api-security": "vitest tests/security/api-security.test.ts --run",
    "test:auth-security": "vitest tests/security/auth-security.test.ts --run",
    "test:jwt-generation": "node scripts/test-jwt.js",
    "test:encryption": "node scripts/test-encryption.js",
    "compliance:setup-malaysian-config": "node scripts/setup-malaysian-compliance.js",
    "compliance:validate-config": "node scripts/validate-compliance-config.js",
    "config:cloudflare:setup": "node scripts/setup-cloudflare-config.js",
    "config:rollback": "node scripts/rollback-config.js",
    "deployment:prepare-green": "node scripts/prepare-blue-green.js",
    "deployment:switch-to-green": "node scripts/switch-traffic.js",
    "deployment:verify-switch": "node scripts/verify-traffic-switch.js",
    "deployment:cleanup-blue": "node scripts/cleanup-blue-environment.js",
    "deployment:rollback:emergency": "node scripts/emergency-rollback.js",
    "verify:rollback-success": "node scripts/verify-rollback.js",
    "storage:backup:emergency": "node scripts/backup-storage.js --emergency",
    "disaster-recovery:restore-full": "node scripts/disaster-recovery-restore.js",
    "disaster-recovery:verify": "node scripts/verify-disaster-recovery.js",
    "test:compliance:disaster-recovery": "vitest tests/compliance --run --env=disaster-recovery",
    "monitoring:setup-malaysian-metrics": "node scripts/setup-malaysian-monitoring.js",
    "monitoring:setup-uptime": "node scripts/setup-uptime-monitoring.js",
    "monitoring:configure-health-checks": "node scripts/configure-health-checks.js",
    "monitoring:setup-performance": "node scripts/setup-performance-monitoring.js",
    "monitoring:setup-logging": "node scripts/setup-log-aggregation.js",
    "monitoring:configure-log-retention": "node scripts/configure-log-retention.js",
    "monitoring:test-health-checks": "node scripts/test-health-checks.js",
    "monitoring:verify-metrics-collection": "node scripts/verify-metrics.js",
    "monitoring:test-malaysian-features": "node scripts/test-malaysian-monitoring.js",
    "monitoring:verify-compliance-tracking": "node scripts/verify-compliance-monitoring.js",
    "monitoring:verify-all": "node scripts/verify-all-monitoring.js",
    "monitoring:adjust-for-rollback": "node scripts/adjust-monitoring-rollback.js",
    "monitoring:enable-alerts": "node scripts/enable-monitoring-alerts.js",
    "monitoring:verify-metrics": "node scripts/verify-monitoring-metrics.js",
    "monitoring:generate-setup-report": "node scripts/generate-monitoring-report.js",
    "alerts:configure-critical": "node scripts/configure-critical-alerts.js",
    "alerts:configure-business-hours": "node scripts/setup-business-hours-alerts.js",
    "alerts:configure-compliance": "node scripts/configure-compliance-alerts.js",
    "alerts:configure-performance": "node scripts/configure-performance-alerts.js",
    "alerts:configure-business": "node scripts/configure-business-alerts.js",
    "alerts:test-slack": "node scripts/test-slack-alerts.js",
    "alerts:test-email": "node scripts/test-email-alerts.js",
    "alerts:test-pagerduty": "node scripts/test-pagerduty-alerts.js",
    "alerts:test-business-hours": "node scripts/test-business-hours-logic.js",
    "alerts:test-timezone-handling": "node scripts/test-timezone-handling.js",
    "alerts:verify-routing": "node scripts/verify-alert-routing.js",
    "dashboards:deploy-grafana": "node scripts/deploy-grafana-dashboards.js",
    "dashboards:deploy-malaysian-business": "node scripts/deploy-business-dashboard.js",
    "dashboards:deploy-technical": "node scripts/deploy-technical-dashboard.js",
    "dashboards:deploy-compliance": "node scripts/deploy-compliance-dashboard.js",
    "status-page:deploy": "node scripts/deploy-status-page.js",
    "sentry:configure": "node scripts/configure-sentry.js"
  },
  "devDependencies": {
    "@playwright/test": "^1.40.0",
    "@typescript-eslint/eslint-plugin": "^6.0.0",
    "@typescript-eslint/parser": "^6.0.0",
    "eslint": "^8.57.0",
    "eslint-config-prettier": "^9.0.0",
    "eslint-plugin-react": "^7.33.0",
    "eslint-plugin-react-hooks": "^4.6.0",
    "husky": "^8.0.3",
    "lint-staged": "^15.0.0",
    "prettier": "^3.0.0",
    "turbo": "^2.5.6",
    "typescript": "^5.0.0",
    "@types/node": "^20.0.0",
    "vitest": "^1.0.0"
  },
  "lint-staged": {
    "*.{ts,tsx,js,jsx}": [
      "eslint --fix",
      "prettier --write"
    ],
    "*.{json,md,yml,yaml}": [
      "prettier --write"
    ]
  },
  "husky": {
    "hooks": {
      "pre-commit": "lint-staged",
      "pre-push": "npm run test:unit"
    }
  },
  "packageManager": "npm@11.5.2",
  "engines": {
    "node": ">=18.0.0"
  }
}