exports.id=592,exports.ids=[592],exports.modules={2202:(e,t,r)=>{Promise.resolve().then(r.bind(r,217)),Promise.resolve().then(r.bind(r,9057))},2497:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4424,23)),Promise.resolve().then(r.t.bind(r,7752,23)),Promise.resolve().then(r.t.bind(r,5275,23)),Promise.resolve().then(r.t.bind(r,9842,23)),Promise.resolve().then(r.t.bind(r,1633,23)),Promise.resolve().then(r.t.bind(r,9224,23))},217:(e,t,r)=>{"use strict";r.d(t,{ErrorBoundary:()=>d});var o=r(3227),s=r(3677),a=r.n(s),i=r(1860),n=r(5128);let l={captureException:e=>(console.error("Error captured:",e),"mock-event-id"),withScope:e=>{e({setTag:(e,t)=>{},setLevel:e=>{},setContext:(e,t)=>{}})}};function c({error:e,resetError:t,eventId:r}){return o.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:o.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:o.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,o.jsxs)("div",{className:"text-center",children:[o.jsx(n.Z,{className:"mx-auto h-12 w-12 text-red-400"}),o.jsx("h2",{className:"mt-4 text-lg font-medium text-gray-900",children:"Something went wrong"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"An error occurred while processing your Malaysian e-Invoice request. Our team has been notified and will investigate the issue."}),!1,(0,o.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,o.jsxs)("button",{onClick:t,className:"w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[o.jsx(i.Z,{className:"h-4 w-4 mr-2"}),"Try Again"]}),o.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"w-full flex justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Back to Dashboard"}),r&&o.jsx("div",{className:"text-xs text-gray-500",children:(0,o.jsxs)("p",{children:["If you continue to experience issues, please contact support and reference error ID: ",r]})})]})]})})})})}class d extends a().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){l.withScope(r=>{r.setTag("errorBoundary",!0),r.setTag("country","MY"),r.setTag("compliance_system","lhdn"),r.setTag("business_context","malaysian_einvoice"),r.setContext("react_error_info",{componentStack:t.componentStack});let o=window.location.pathname;o.includes("/invoices")?r.setTag("feature","invoice_management"):o.includes("/templates")?r.setTag("feature","template_management"):o.includes("/import")?r.setTag("feature","csv_import"):o.includes("/export")&&r.setTag("feature","data_export");let s=l.captureException(e);this.setState({eventId:s})}),console.error("Error caught by boundary:",e,t)}render(){if(this.state.hasError){let e=this.props.fallback||c;return o.jsx(e,{error:this.state.error,resetError:()=>this.setState({hasError:!1,error:void 0,eventId:void 0}),eventId:this.state.eventId})}return this.props.children}}},3172:(e,t,r)=>{"use strict";r.d(t,{H:()=>c,a:()=>l});var o=r(3227),s=r(3677),a=r(1043),i=r(7674);let n=(0,s.createContext)(void 0);function l(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function c({children:e}){let[t,r]=(0,s.useState)(null),[l,c]=(0,s.useState)(!0),d=(0,a.useRouter)(),u=async e=>{try{await i.hi.auth.sendMagicLink(e)}catch(e){throw console.error("Login failed:",e),e}},h=async e=>{try{let t=await i.hi.auth.verifyToken(e);if(t.token&&t.user)(0,i.uB)(t.token),r(t.user);else throw Error("Invalid response from verification")}catch(e){throw console.error("Token verification failed:",e),(0,i.Rn)(),e}},m=async()=>{try{let e=await i.hi.auth.me();if(e.user){let t=e.user;if(t.hasCompletedOnboarding&&t.orgId)try{let e=await i.hi.organization.get();e.organization&&(t={...t,organization:e.organization})}catch(e){console.warn("Failed to load organization details:",e)}r(t)}}catch(e){throw console.error("Failed to refresh user:",e),e}};return o.jsx(n.Provider,{value:{user:t,isLoading:l,isAuthenticated:!!t,login:u,verifyToken:h,logout:()=>{try{i.hi.auth.logout().catch(console.error)}finally{(0,i.Rn)(),r(null),d.push("/auth/login")}},refreshUser:m},children:e})}},7674:(e,t,r)=>{"use strict";r.d(t,{Rn:()=>i,hi:()=>l,uB:()=>a});let o=r(7254).ZP.create({baseURL:"http://localhost:8787",timeout:1e4,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=s();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(i(),window.location.href="/auth/login"),Promise.reject(e)));let s=()=>null,a=e=>{},i=()=>{},n=async e=>{try{return(await o.request(e)).data}catch(e){throw{...e.response?.data,status:e.response?.status,statusText:e.response?.statusText}}},l={auth:{sendMagicLink:e=>n({method:"POST",url:"/auth/magic-link",data:{email:e}}),verifyToken:e=>n({method:"POST",url:"/auth/verify",data:{token:e}}),me:()=>n({method:"GET",url:"/auth/me"}),logout:()=>n({method:"POST",url:"/auth/logout"})},organization:{get:()=>n({method:"GET",url:"/org"}),update:e=>n({method:"PUT",url:"/org",data:e}),setup:e=>n({method:"POST",url:"/org/setup",data:e}),validateTin:e=>n({method:"POST",url:"/org/validate-tin",data:{tin:e}})},invoices:{list:e=>n({method:"GET",url:`/invoices${e?`?${e}`:""}`}),get:e=>n({method:"GET",url:`/invoices/${e}`}),create:e=>n({method:"POST",url:"/invoices",data:e}),update:(e,t)=>n({method:"PUT",url:`/invoices/${e}`,data:t}),delete:e=>n({method:"DELETE",url:`/invoices/${e}`}),validate:e=>n({method:"POST",url:`/invoices/${e}/validate`}),duplicate:e=>n({method:"POST",url:`/invoices/${e}/duplicate`})},import:{parseCSV:e=>n({method:"POST",url:"/import/parse-csv",data:{csvData:e}}),importInvoices:e=>n({method:"POST",url:"/import/invoices",data:e}),startChunkedImport:e=>n({method:"POST",url:"/import/start-chunked-import",data:e}),getProgress:e=>n({method:"GET",url:`/import/progress/${e}`}),getTemplate:()=>n({method:"GET",url:"/import/template",headers:{Accept:"text/csv"}})},export:{generatePDF:e=>fetch("http://localhost:8787/export/pdf",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(e)}),generateJSON:e=>fetch("http://localhost:8787/export/json",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(e)}),generateCSV:e=>fetch("http://localhost:8787/export/csv",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(e)}),startBatchExport:e=>n({method:"POST",url:"/export/batch",data:e}),getJobStatus:e=>n({method:"GET",url:`/export/jobs/${e}`}),pdf:e=>fetch(`http://localhost:8787/export/pdf/${e}`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})},templates:{list:e=>n({method:"GET",url:"/templates",params:e}),get:e=>n({method:"GET",url:`/templates/${e}`}),create:e=>n({method:"POST",url:"/templates",data:e}),update:(e,t)=>n({method:"PUT",url:`/templates/${e}`,data:t}),delete:e=>n({method:"DELETE",url:`/templates/${e}`}),use:e=>n({method:"POST",url:`/templates/${e}/use`}),getPresets:e=>n({method:"GET",url:"/templates/presets/industry",params:e?{category:e}:void 0}),getAnalytics:()=>n({method:"GET",url:"/templates/analytics/usage"})},dashboard:{getMetrics:()=>n({method:"GET",url:"/dashboard/metrics"})},health:()=>n({method:"GET",url:"/health"})}},9057:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>c});var o=r(3227),s=r(8674);r(52);var a=r(7319);r(9810);let i=new a.S({defaultOptions:{queries:{staleTime:3e5,gcTime:18e5,retry:(e,t)=>(!(t?.status>=400&&t?.status<500)||t?.status===401)&&e<3,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!0},mutations:{retry:!1}}});function n({children:e}){return(0,o.jsxs)(s.aH,{client:i,children:[e,!1]})}var l=r(3172);function c({children:e}){return o.jsx(n,{children:o.jsx(l.H,{children:e})})}},9810:()=>{},534:()=>{},4262:(e,t,r)=>{"use strict";r(8674),r(5701),r(534)},3395:(e,t,r)=>{"use strict";r.d(t,{Dq:()=>o.Dq,cI:()=>o.cI});var o=r(9342)},8928:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>n});var o=r(9013);r(5556);var s=r(3189);let a=(0,s.createProxy)(String.raw`/Users/lazylmf/StudioProjects/Easy-e-Invoice/apps/web/src/providers/providers.tsx#Providers`);(0,s.createProxy)(String.raw`/Users/lazylmf/StudioProjects/Easy-e-Invoice/apps/web/src/components/ErrorBoundary.tsx#InvoiceErrorFallback`);let i=(0,s.createProxy)(String.raw`/Users/lazylmf/StudioProjects/Easy-e-Invoice/apps/web/src/components/ErrorBoundary.tsx#ErrorBoundary`);(0,s.createProxy)(String.raw`/Users/lazylmf/StudioProjects/Easy-e-Invoice/apps/web/src/components/ErrorBoundary.tsx#useErrorHandler`),(0,s.createProxy)(String.raw`/Users/lazylmf/StudioProjects/Easy-e-Invoice/apps/web/src/components/ErrorBoundary.tsx#default`);let n={title:"Easy e-Invoice",description:"Malaysian e-Invoice compliance helper for micro-SMEs",keywords:["e-invoice","malaysia","tax","compliance","SME","LHDN"],authors:[{name:"Easy e-Invoice Team"}],viewport:"width=device-width, initial-scale=1"};function l({children:e}){return o.jsx("html",{lang:"en",className:"h-full",children:o.jsx("body",{className:"h-full",children:o.jsx(i,{children:o.jsx(a,{children:e})})})})}},5556:()=>{}};