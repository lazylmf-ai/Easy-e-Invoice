(()=>{var e={};e.id=101,e.ids=[101],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},9154:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>o}),t(3317),t(8928),t(7824);var i=t(3282),a=t(5736),l=t(3906),n=t.n(l),r=t(6880),c={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>r[e]);t.d(s,c);let o=["",{children:["invoices",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3317)),"/Users/lazylmf/StudioProjects/Easy-e-Invoice/apps/web/src/app/invoices/create/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,8928)),"/Users/lazylmf/StudioProjects/Easy-e-Invoice/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7824,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/lazylmf/StudioProjects/Easy-e-Invoice/apps/web/src/app/invoices/create/page.tsx"],m="/invoices/create/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/invoices/create/page",pathname:"/invoices/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},5910:(e,s,t)=>{Promise.resolve().then(t.bind(t,9016))},9016:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>S});var i=t(3227),a=t(3677),l=t(1043),n=t(3172),r=t(7674),c=t(3395),o=t(5210),d=t(6419),m=t(5562),x=t(8305);let u=["MYR","USD","EUR","SGD","GBP","AUD","JPY","CNY"],p=[0,6,10],h=d.z.object({itemDescription:d.z.string().min(1,"Item description is required").max(500),itemSku:d.z.string().max(100).optional(),quantity:d.z.string().regex(/^\d+(\.\d{1,3})?$/,"Quantity must be a valid number").default("1"),unitPrice:d.z.string().regex(/^\d+\.\d{2}$/,"Unit price must have 2 decimal places"),discountAmount:d.z.string().regex(/^\d+\.\d{2}$/,"Discount must have 2 decimal places").default("0.00"),sstRate:d.z.number().refine(e=>p.includes(e),"Invalid SST rate").default(0),sstAmount:d.z.string().regex(/^\d+\.\d{2}$/,"SST amount must have 2 decimal places").default("0.00"),taxExemptionCode:d.z.string().max(20).optional(),notes:d.z.string().max(500).optional(),metadata:d.z.record(d.z.any()).optional()}),v=d.z.object({invoiceNumber:d.z.string().min(1,"Invoice number is required").max(100),eInvoiceType:d.z.enum(["01","02","03","04","11","12","13","14"]).default("01"),issueDate:d.z.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Invalid date format"),dueDate:d.z.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Invalid date format").optional(),currency:d.z.enum(u).default("MYR"),exchangeRate:d.z.string().regex(/^\d+\.\d{2,6}$/,"Exchange rate must have 2-6 decimal places").default("1.000000"),poNumber:d.z.string().max(50).optional(),internalRef:d.z.string().max(100).optional(),notes:d.z.string().max(1e3).optional(),metadata:d.z.record(d.z.any()).optional(),buyerName:d.z.string().min(1,"Buyer name is required").max(255),buyerTin:d.z.string().regex(/^(C\d{10}|\d{12})$/,"Invalid Malaysian TIN format").optional(),buyerCountryCode:d.z.string().length(2).default("MY"),buyerIsIndividual:d.z.boolean().default(!1),buyerAddress:d.z.object({line1:d.z.string().max(255),line2:d.z.string().max(255).optional(),city:d.z.string().max(100),state:d.z.string().max(100),postalCode:d.z.string().max(20),country:d.z.string().length(2).default("MY")}).optional(),buyerContact:d.z.object({email:d.z.string().email().optional(),phone:d.z.string().max(20).optional()}).optional(),lineItems:d.z.array(h).min(1,"At least one line item is required")});function j(e,s,t="0.00"){let i=parseFloat(e);return(i*parseFloat(s)-parseFloat(t)).toFixed(2)}function b(e,s){return(parseFloat(e)*s/100).toFixed(2)}let g=d.z.object({invoice:v,lineItems:d.z.array(h).min(1,"At least one line item is required"),buyerId:d.z.string().optional()}),y=u.map(e=>({code:e,name:({MYR:"Malaysian Ringgit",USD:"US Dollar",EUR:"Euro",GBP:"British Pound",SGD:"Singapore Dollar",JPY:"Japanese Yen",CNY:"Chinese Yuan",AUD:"Australian Dollar",CAD:"Canadian Dollar",CHF:"Swiss Franc"})[e]||e,symbol:({MYR:"RM",USD:"$",EUR:"€",GBP:"\xa3",SGD:"S$",JPY:"\xa5",CNY:"\xa5",AUD:"A$",CAD:"C$",CHF:"CHF"})[e]||e})),N=Object.entries({"01":"Invoice","02":"Credit Note","03":"Debit Note","04":"Refund Note",11:"Self-Billed Invoice",12:"Self-Billed Credit Note",13:"Self-Billed Debit Note",14:"Self-Billed Refund Note"}).map(([e,s])=>({value:e,label:s}));function f({initialData:e,templateData:s,onSubmit:t,onValidate:l,isLoading:n=!1,mode:r="create"}){let[d,u]=(0,a.useState)({subtotal:0,totalDiscount:0,totalSst:0,grandTotal:0}),{register:p,control:h,handleSubmit:v,watch:f,setValue:I,formState:{errors:S,isValid:z}}=(0,c.cI)({resolver:(0,o.F)(g),defaultValues:s||e||{invoice:{invoiceNumber:"",currency:"MYR",exchangeRate:"1.000000",eInvoiceType:"01",isConsolidated:!1,issueDate:new Date().toISOString().split("T")[0],subtotal:"0.00",sstAmount:"0.00",totalDiscount:"0.00",grandTotal:"0.00",status:"draft"},lineItems:[{itemDescription:"",quantity:"1",unitPrice:"0.00",discountAmount:"0.00",lineTotal:"0.00",sstRate:"0.00",sstAmount:"0.00"}]},mode:"onChange"}),{fields:w,append:C,remove:D}=(0,c.Dq)({control:h,name:"lineItems"}),R=f();(0,a.useCallback)(()=>{if(!R.lineItems)return;let e=0,s=0,t=0;R.lineItems.forEach((i,a)=>{let l=parseFloat(i.quantity||"0"),n=parseFloat(i.unitPrice||"0"),r=parseFloat(i.discountAmount||"0"),c=parseFloat(i.sstRate||"0"),o=j(l,n,r),d=b(o,c);I(`lineItems.${a}.lineTotal`,o.toFixed(2)),I(`lineItems.${a}.sstAmount`,d.toFixed(2)),e+=o,s+=d,t+=r});let i=function(e){let s=0,t=0;e.forEach(e=>{let i=parseFloat(j(e.quantity,e.unitPrice,e.discountAmount||"0.00")),a=parseFloat(b(i.toFixed(2),e.sstRate));s+=i,t+=a});let i=s+t;return{subtotal:s.toFixed(2),totalSst:t.toFixed(2),grandTotal:i.toFixed(2)}}(e,0,s);I("invoice.subtotal",e.toFixed(2)),I("invoice.sstAmount",s.toFixed(2)),I("invoice.totalDiscount",t.toFixed(2)),I("invoice.grandTotal",i.toFixed(2)),u({subtotal:e,totalDiscount:t,totalSst:s,grandTotal:i})},[R.lineItems,I]);let k=e=>{w.length>1&&D(e)};return(0,i.jsxs)("form",{onSubmit:v(e=>{t(e)}),className:"space-y-8",children:[!R.invoice?.isConsolidated&&(0,i.jsxs)("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Buyer Information"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Buyer Name *"}),i.jsx("input",{type:"text",...p("invoice.buyerName"),className:"input mt-1",placeholder:"Customer/Buyer name"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Buyer TIN"}),i.jsx("input",{type:"text",...p("invoice.buyerTin"),className:"input mt-1",placeholder:"C1234567890 or 123456789012"}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Required for B2B transactions"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),i.jsx("input",{type:"email",...p("invoice.buyerEmail"),className:"input mt-1",placeholder:"buyer@company.com"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),i.jsx("input",{type:"tel",...p("invoice.buyerPhone"),className:"input mt-1",placeholder:"+60123456789"})]}),(0,i.jsxs)("div",{className:"sm:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),i.jsx("textarea",{...p("invoice.buyerAddress"),rows:2,className:"input mt-1",placeholder:"Complete buyer address"})]})]})]}),(0,i.jsxs)("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Invoice Information"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Invoice Number *"}),i.jsx("input",{type:"text",...p("invoice.invoiceNumber"),className:`input mt-1 ${S.invoice?.invoiceNumber?"border-red-300":""}`,placeholder:"INV-2024-001"}),S.invoice?.invoiceNumber&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:S.invoice.invoiceNumber.message})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Invoice Type *"}),i.jsx("select",{...p("invoice.eInvoiceType"),className:"input mt-1",children:N.map(e=>i.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Issue Date *"}),i.jsx("input",{type:"date",...p("invoice.issueDate"),className:`input mt-1 ${S.invoice?.issueDate?"border-red-300":""}`}),S.invoice?.issueDate&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:S.invoice.issueDate.message})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Due Date"}),i.jsx("input",{type:"date",...p("invoice.dueDate"),className:"input mt-1"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Currency *"}),i.jsx("select",{...p("invoice.currency"),className:"input mt-1",children:y.map(e=>(0,i.jsxs)("option",{value:e.code,children:[e.code," - ",e.name]},e.code))})]}),R.invoice?.currency!=="MYR"&&(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Exchange Rate *"}),i.jsx("input",{type:"number",step:"0.000001",...p("invoice.exchangeRate"),className:"input mt-1",placeholder:"1.000000"}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Rate from Bank Negara Malaysia"})]})]}),(0,i.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",...p("invoice.isConsolidated"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),i.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"This is a consolidated B2C invoice"})]}),R.invoice?.isConsolidated&&i.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Consolidation Period"}),i.jsx("input",{type:"month",...p("invoice.metadata.consolidationPeriod"),className:"input mt-1"})]})}),["02","03"].includes(R.invoice?.eInvoiceType||"")&&(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reference Invoice Number *"}),i.jsx("input",{type:"text",...p("invoice.referenceInvoiceId"),className:"input mt-1",placeholder:"Original invoice ID"}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Required for credit and debit notes"})]})]}),(0,i.jsxs)("div",{className:"mt-6 grid grid-cols-1 gap-6 sm:grid-cols-3",children:[(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Internal Reference"}),i.jsx("input",{type:"text",...p("invoice.internalRef"),className:"input mt-1",placeholder:"Internal tracking number"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"PO Number"}),i.jsx("input",{type:"text",...p("invoice.poNumber"),className:"input mt-1",placeholder:"Purchase order number"})]})]})]}),(0,i.jsxs)("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Line Items"}),(0,i.jsxs)("button",{type:"button",onClick:()=>{C({itemDescription:"",quantity:"1",unitPrice:"0.00",discountAmount:"0.00",lineTotal:"0.00",sstRate:"0.00",sstAmount:"0.00"})},className:"btn-secondary flex items-center",children:[i.jsx(m.Z,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),i.jsx("div",{className:"space-y-4",children:w.map((e,s)=>(0,i.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsxs)("h4",{className:"text-sm font-medium text-gray-700",children:["Item ",s+1]}),w.length>1&&i.jsx("button",{type:"button",onClick:()=>k(s),className:"text-red-600 hover:text-red-800",children:i.jsx(x.Z,{className:"h-4 w-4"})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,i.jsxs)("div",{className:"lg:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description *"}),i.jsx("input",{type:"text",...p(`lineItems.${s}.itemDescription`),className:`input mt-1 ${S.lineItems?.[s]?.itemDescription?"border-red-300":""}`,placeholder:"Item description"}),S.lineItems?.[s]?.itemDescription&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:S.lineItems[s]?.itemDescription?.message})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"SKU/Code"}),i.jsx("input",{type:"text",...p(`lineItems.${s}.itemSku`),className:"input mt-1",placeholder:"SKU or item code"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quantity *"}),i.jsx("input",{type:"number",step:"0.001",...p(`lineItems.${s}.quantity`),className:`input mt-1 ${S.lineItems?.[s]?.quantity?"border-red-300":""}`,placeholder:"1"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Unit Price *"}),i.jsx("input",{type:"number",step:"0.01",...p(`lineItems.${s}.unitPrice`),className:`input mt-1 ${S.lineItems?.[s]?.unitPrice?"border-red-300":""}`,placeholder:"0.00"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Discount"}),i.jsx("input",{type:"number",step:"0.01",...p(`lineItems.${s}.discountAmount`),className:"input mt-1",placeholder:"0.00"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"SST Rate (%)"}),(0,i.jsxs)("select",{...p(`lineItems.${s}.sstRate`),className:"input mt-1",children:[i.jsx("option",{value:"0.00",children:"0% (No SST)"}),i.jsx("option",{value:"6.00",children:"6% (Standard SST)"})]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tax Exemption"}),i.jsx("input",{type:"text",...p(`lineItems.${s}.taxExemptionCode`),className:"input mt-1",placeholder:"Exemption code"})]})]}),i.jsx("div",{className:"mt-4 bg-gray-50 p-3 rounded-md",children:(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Line Total: "}),i.jsx("span",{className:"font-medium",children:R.lineItems?.[s]?.lineTotal||"0.00"})]}),(0,i.jsxs)("div",{children:[i.jsx("span",{className:"text-gray-600",children:"SST Amount: "}),i.jsx("span",{className:"font-medium",children:R.lineItems?.[s]?.sstAmount||"0.00"})]})]})})]},e.id))})]}),(0,i.jsxs)("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Invoice Totals"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),(0,i.jsxs)("span",{className:"font-medium",children:["RM ",d.subtotal.toFixed(2)]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Total Discount:"}),(0,i.jsxs)("span",{className:"font-medium",children:["RM ",d.totalDiscount.toFixed(2)]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"SST (6%):"}),(0,i.jsxs)("span",{className:"font-medium",children:["RM ",d.totalSst.toFixed(2)]})]}),i.jsx("div",{className:"border-t pt-3",children:(0,i.jsxs)("div",{className:"flex justify-between text-lg font-semibold",children:[i.jsx("span",{children:"Grand Total:"}),(0,i.jsxs)("span",{children:["RM ",d.grandTotal.toFixed(2)]})]})})]})]}),(0,i.jsxs)("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),i.jsx("textarea",{...p("invoice.notes"),rows:3,className:"input mt-1",placeholder:"Additional notes or comments..."})]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[i.jsx("div",{children:l&&i.jsx("button",{type:"button",onClick:()=>{l&&z&&l(R)},disabled:!z||n,className:"btn-secondary mr-4",children:"Validate Invoice"})}),(0,i.jsxs)("div",{className:"flex space-x-4",children:[i.jsx("button",{type:"button",onClick:()=>I("invoice.status","draft"),className:"btn-secondary",children:"Save as Draft"}),i.jsx("button",{type:"submit",disabled:!z||n,className:"btn-primary",children:n?"Saving...":"create"===r?"Create Invoice":"Update Invoice"})]})]})]})}function I(){let[e,s]=(0,a.useState)(!1),[t,c]=(0,a.useState)(""),[o,d]=(0,a.useState)(null),[m,x]=(0,a.useState)(null),{user:u}=(0,n.a)(),p=(0,l.useRouter)();(0,l.useSearchParams)();let h=async e=>{if(!u?.hasCompletedOnboarding){c("Please complete organization setup first");return}s(!0),c("");try{let s=await r.hi.invoices.create(e);if(s.invoice)p.push(`/invoices/${s.invoice.id}`);else throw Error("Failed to create invoice")}catch(e){console.error("Invoice creation failed:",e),c(e.message||"Failed to create invoice. Please try again.")}finally{s(!1)}},v=async e=>{s(!0),c("");try{let s=await r.hi.invoices.validate(e);d(s.validation)}catch(e){console.error("Invoice validation failed:",e),c(e.message||"Failed to validate invoice")}finally{s(!1)}};return u?.hasCompletedOnboarding?i.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsx("div",{className:"mb-8",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Invoice"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Create a new e-Invoice with Malaysian compliance validation"})]}),i.jsx("div",{className:"flex items-center space-x-4",children:i.jsx("button",{onClick:()=>p.push("/invoices"),className:"btn-secondary",children:"Cancel"})})]})}),t&&i.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:(0,i.jsxs)("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,i.jsxs)("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),i.jsx("div",{className:"mt-2 text-sm text-red-700",children:i.jsx("p",{children:t})})]})]})}),o&&i.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-md p-4",children:(0,i.jsxs)("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,i.jsxs)("div",{className:"ml-3",children:[(0,i.jsxs)("h3",{className:"text-sm font-medium text-blue-800",children:["Validation Results (Score: ",o.score,"/100)"]}),i.jsx("div",{className:"mt-2 text-sm text-blue-700",children:o.isValid?i.jsx("p",{children:"✅ Invoice passed Malaysian e-Invoice validation!"}):(0,i.jsxs)("div",{children:[i.jsx("p",{children:"❌ Invoice has validation issues:"}),i.jsx("ul",{className:"mt-2 list-disc list-inside",children:o.results?.map((e,s)=>i.jsxs("li",{className:"error"===e.severity?"text-red-700":"text-yellow-700",children:[e.message," - ",e.fixSuggestion]},s))})]})})]})]})}),i.jsx(f,{onSubmit:h,onValidate:v,isLoading:e,templateData:m,mode:"create"})]})}):i.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:i.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:(0,i.jsxs)("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,i.jsxs)("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Organization Setup Required"}),i.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:i.jsx("p",{children:"You need to complete your organization setup before creating invoices."})}),i.jsx("div",{className:"mt-4",children:i.jsx("div",{className:"-mx-2 -my-1.5 flex",children:i.jsx("button",{onClick:()=>p.push("/org/setup"),className:"bg-yellow-50 px-2 py-1.5 rounded-md text-sm font-medium text-yellow-800 hover:bg-yellow-100",children:"Complete Setup"})})})]})]})})})})}function S(){return i.jsx(a.Suspense,{fallback:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),children:i.jsx(I,{})})}},9816:(e,s,t)=>{"use strict";t.d(s,{KN:()=>i.KN});var i=t(9342)},4696:(e,s,t)=>{"use strict";t.d(s,{U2:()=>i.U2,t8:()=>i.t8});var i=t(9342)},4403:(e,s,t)=>{"use strict";t.d(s,{M:()=>i.M,_:()=>i._});var i=t(7548)},3317:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});let i=(0,t(3189).createProxy)(String.raw`/Users/lazylmf/StudioProjects/Easy-e-Invoice/apps/web/src/app/invoices/create/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),i=s.X(0,[522,790,216,592],()=>t(9154));module.exports=i})();